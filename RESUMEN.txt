â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚   ğŸ¯ DEMO: SISTEMA DE REACTIVACIÃ“N DE CLIENTES                     â”‚
â”‚        Powered by Elasticsearch                                     â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ ESTRUCTURA DEL PROYECTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

elastic-search/
â”œâ”€â”€ ğŸ“„ README.md                    â†’ DocumentaciÃ³n completa
â”œâ”€â”€ ğŸ“„ INICIO_RAPIDO.md            â†’ GuÃ­a de 5 minutos
â”œâ”€â”€ ğŸ“„ GUIA_DEMO_CLIENTE.md        â†’ Script para presentaciÃ³n
â”œâ”€â”€ ğŸ“„ EJEMPLOS_CONSULTAS.md       â†’ Ejemplos de API calls
â”œâ”€â”€ ğŸ“„ PRODUCCION.md               â†’ GuÃ­a para deploy real
â”œâ”€â”€ ğŸ“„ package.json                â†’ Dependencias
â”œâ”€â”€ ğŸ“„ .env                        â†’ Credenciales Elasticsearch
â”œâ”€â”€ ğŸ“„ .gitignore
â”œâ”€â”€ ğŸ“„ postman-collection.json     â†’ ColecciÃ³n de Postman
â”œâ”€â”€ ğŸ”§ setup.sh                    â†’ Script de instalaciÃ³n
â”‚
â””â”€â”€ src/
    â”œâ”€â”€ config/
    â”‚   â”œâ”€â”€ elasticsearch.js       â†’ Cliente de ES Serverless
    â”‚   â””â”€â”€ indices.js             â†’ Schemas de Ã­ndices
    â”‚
    â”œâ”€â”€ routes/
    â”‚   â””â”€â”€ customerRoutes.js      â†’ Endpoints de API
    â”‚
    â”œâ”€â”€ services/
    â”‚   â””â”€â”€ customerService.js     â†’ LÃ³gica de bÃºsqueda
    â”‚
    â”œâ”€â”€ scripts/
    â”‚   â”œâ”€â”€ setup-indices.js       â†’ Crear Ã­ndices
    â”‚   â”œâ”€â”€ seed-data.js           â†’ Generar datos fake
    â”‚   â””â”€â”€ test-queries.js        â†’ Probar consultas
    â”‚
    â”œâ”€â”€ utils/
    â”‚   â”œâ”€â”€ dataGenerator.js       â†’ Faker para datos
    â”‚   â””â”€â”€ excelExporter.js       â†’ Exportar a Excel
    â”‚
    â””â”€â”€ index.js                   â†’ Servidor Express


ğŸš€ COMANDOS PRINCIPALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ InstalaciÃ³n
   npm install

ğŸ”§ Crear Ã­ndices en Elasticsearch
   npm run setup

ğŸŒ± Generar datos de prueba (3,000 clientes)
   npm run seed

â–¶ï¸  Iniciar servidor API
   npm start

ğŸ§ª Probar consultas
   npm run query


ğŸ“Š DATOS GENERADOS (Default)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘¥ Clientes:      3,000 (1,000 por compaÃ±Ã­a Ã— 3)
ğŸ§¾ Facturas:      ~24,000 (promedio 8 por cliente)
ğŸ“¦ Productos:     150 (50 por compaÃ±Ã­a Ã— 3)
ğŸ¢ CompaÃ±Ã­as:     3 (Pizza Express CR, Sabor Italiano, Fast Food Nacional)
ğŸš« Inactivos:     ~30-40% (>90 dÃ­as sin comprar)


ğŸ¯ CASOS DE USO PRINCIPALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  BÃšSQUEDA ESTRUCTURADA
   "Mujeres de San JosÃ© que compraban pepperoni (>90 dÃ­as)"
   
   POST /api/customers/search
   {
     "gender": "mujer",
     "city": "San JosÃ©",
     "ingredients": ["pepperoni"],
     "minDaysSinceLastPurchase": 90
   }

2ï¸âƒ£  BÃšSQUEDA DE TEXTO LIBRE
   "mujer pepperoni san jose 3 meses"
   
   POST /api/customers/free-text-search
   {
     "searchText": "mujer pepperoni san jose 3 meses"
   }

3ï¸âƒ£  CLIENTES VIP INACTIVOS
   Mejores clientes en riesgo
   
   POST /api/customers/search
   {
     "customerSegment": "vip",
     "minDaysSinceLastPurchase": 60,
     "minTotalSpent": 300
   }

4ï¸âƒ£  ESTADÃSTICAS AGREGADAS
   AnÃ¡lisis de patrones
   
   GET /api/customers/inactive-stats

5ï¸âƒ£  EXPORTAR A EXCEL
   Lista para campaÃ±a de emails
   
   POST /api/customers/export
   { ...mismo body que search... }


âš¡ CARACTERÃSTICAS DESTACADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… BÃºsquedas sub-segundo (50-300ms)
âœ… Escalable a 800k+ clientes
âœ… Base de datos multi-compaÃ±Ã­a
âœ… IdentificaciÃ³n por telÃ©fono (sin login)
âœ… ExportaciÃ³n a Excel formateada
âœ… BÃºsqueda conversacional (NLP)
âœ… Elasticsearch Serverless
âœ… API REST completa
âœ… Datos desnormalizados para velocidad
âœ… Analizador de espaÃ±ol
âœ… Agregaciones en tiempo real


ğŸ“¡ ENDPOINTS DE LA API
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GET    /health
GET    /api-docs                           (Swagger - futuro)

POST   /api/customers/search               BÃºsqueda avanzada
POST   /api/customers/free-text-search     Texto libre
POST   /api/customers/export               Exportar Excel
GET    /api/customers/inactive-stats       EstadÃ­sticas
GET    /api/customers/:id                  Detalle cliente


ğŸ” FILTROS DISPONIBLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ UbicaciÃ³n
   â€¢ city: "San JosÃ©", "Alajuela", "Cartago"...
   â€¢ state: "Costa Rica"
   â€¢ country: "CR"

ğŸ‘¤ DemografÃ­a
   â€¢ gender: "mujer" | "hombre" | "otro"
   â€¢ customerSegment: "vip" | "regular" | "ocasional" | "inactivo"

ğŸ›’ Comportamiento
   â€¢ products: ["Pizza Pepperoni", "Pizza Hawaiana"]
   â€¢ ingredients: ["pepperoni", "jamÃ³n", "piÃ±a"]
   â€¢ minDaysSinceLastPurchase: 90
   â€¢ maxDaysSinceLastPurchase: 180

ğŸ’° Financiero
   â€¢ minTotalSpent: 100
   â€¢ maxTotalSpent: 500

ğŸ¢ OrganizaciÃ³n
   â€¢ companyId: "COMP001" | "COMP002" | "COMP003"


ğŸ“ˆ ESCALABILIDAD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para generar 800k clientes:

1. Editar src/scripts/seed-data.js:
   
   const NUM_CUSTOMERS_PER_COMPANY = 270000; // 270k Ã— 3 = 810k

2. Ejecutar:
   
   npm run seed

â±ï¸  Tiempo estimado: 30-60 minutos
ğŸ’¾ Espacio en Elasticsearch: ~2-3 GB


ğŸ¬ DEMO PARA CLIENTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  PreparaciÃ³n (5 min antes)
   â€¢ npm start
   â€¢ Tener terminal visible
   â€¢ Excel abierto

2ï¸âƒ£  Mostrar bÃºsqueda estructurada (5 min)
   â€¢ Explicar caso de uso
   â€¢ Ejecutar curl
   â€¢ SeÃ±alar: total, tiempo, datos completos

3ï¸âƒ£  BÃºsqueda conversacional (3 min)
   â€¢ Demostrar flexibilidad
   â€¢ Sin sintaxis especÃ­fica

4ï¸âƒ£  Casos especiales (4 min)
   â€¢ Clientes VIP
   â€¢ EstadÃ­sticas agregadas

5ï¸âƒ£  Excel export (3 min)
   â€¢ Generar archivo
   â€¢ Abrir y mostrar formato
   â€¢ Colores automÃ¡ticos
   â€¢ Listo para campaÃ±as

6ï¸âƒ£  Escalabilidad (2 min)
   â€¢ Explicar 800k clientes
   â€¢ Mantiene velocidad

ğŸ¤ ARGUMENTOS CLAVE
   â†’ Sub-segundo incluso con millones de registros
   â†’ BÃºsquedas flexibles (estructuradas o conversacionales)
   â†’ Excel listo para marketing en segundos
   â†’ Multi-compaÃ±Ã­a con datos aislados
   â†’ ROI inmediato: reactivar 5% = $XXX


ğŸ’° COSTOS ESTIMADOS (ProducciÃ³n)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Elasticsearch Serverless:     $110-165/mes
API Server (AWS ECS):          $50-80/mes
Redis Cache (opcional):        $15-20/mes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL:                         $175-265/mes


ğŸ“š DOCUMENTACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– README.md                 â†’ DocumentaciÃ³n tÃ©cnica completa
âš¡ INICIO_RAPIDO.md          â†’ Setup en 5 minutos
ğŸ¬ GUIA_DEMO_CLIENTE.md      â†’ Script para presentaciÃ³n
ğŸ’¡ EJEMPLOS_CONSULTAS.md     â†’ Snippets de cÃ³digo
ğŸ­ PRODUCCION.md             â†’ Deploy a producciÃ³n


ğŸ› ï¸  TECNOLOGÃAS UTILIZADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Backend:        Node.js + Express
BÃºsqueda:       Elasticsearch Serverless (8.x)
Datos Fake:     @faker-js/faker
ExportaciÃ³n:    ExcelJS
API Client:     @elastic/elasticsearch


âœ¨ PRÃ“XIMOS PASOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–¡ Probar con datos reales del cliente
â–¡ Integrar con su base de datos
â–¡ Agregar autenticaciÃ³n/autorizaciÃ³n
â–¡ Dashboard de visualizaciÃ³n
â–¡ AutomatizaciÃ³n de campaÃ±as de email
â–¡ IntegraciÃ³n con CRM
â–¡ A/B testing de mensajes


ğŸ†˜ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ Error de conexiÃ³n a Elasticsearch
   â†’ Verificar .env con credenciales correctas
   â†’ Probar: node -e "import('./src/config/elasticsearch.js')..."

âŒ Ãndices ya existen
   â†’ Eliminar desde Kibana o con DELETE request
   â†’ Volver a ejecutar: npm run setup

âŒ Puerto 3000 ocupado
   â†’ Cambiar PORT en .env


ğŸ“ CONTACTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para soporte tÃ©cnico o consultas:
â†’ Ver documentaciÃ³n completa en README.md
â†’ Revisar ejemplos en EJEMPLOS_CONSULTAS.md


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ¨ Â¡Ã‰xito con tu demo de Elasticsearch! âœ¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
